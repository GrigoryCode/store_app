<%= render partial: "store/header" %>

<div class="container">

  <h1>Catalog</h1>

  <div class="row">
    <% @products.each do |product| %>
      <div class="col-lg-3 col-md-4 col-sm-6 portfolio-item mb-3">
        <div class="card h-100">
          <%= image_tag(product.image_url, class: "card-img-top product-img") %>
          <div class="card-body">
            <h4 class="card-title">
              <%= product.title %>
            </h4>
            <p class="card-text"><%= truncate(strip_tags(product.description), length: 50) %></p>
          </div>
          <div class="card-footer">
            <p><%= number_to_currency(product.price) %></p>
            <%= button_to 'Add to Cart', line_items_path(product_id: product), class: "btn btn-primary add-button" %>
          </div>
        </div>
      </div>
    <% end %>
  </div>

</div>